<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>{% block title %}GVoiceus{% endblock %}</title>
	<meta name="description"
		content="{% block meta_description %}Welcome to GVoiceus, your one-stop shop for amazing products.{% endblock %}">
	<meta name="keywords" content="{% block meta_keywords %}shop, ecommerce, products{% endblock %}">

	<link rel="stylesheet" href="{% static 'css/home.css' %}">
	<script src="https://cdn.tailwindcss.com"></script>

	<style>
		/* fixed footer কনটেন্ট না ঢাকতে body-তে padding-bottom */
		body {
			padding-bottom: 72px;
		}

		/* footer height + ছোট buffer */
	</style>
</head>

<body class="bg-white">
	<div>
		<!-- NAVBAR -->
		<nav class="bg-white border-gray-200 dark:bg-gray-900 border-b dark:border-gray-700">
			<div class="max-w-screen-xl mx-auto p-4 flex flex-wrap items-center justify-between">
				<a href="/" class="flex items-center space-x-3 rtl:space-x-reverse">
					<img src="https://flowbite.com/docs/images/logo.svg" class="h-8" alt="Logo" />
					<span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">GVoiceus</span>
				</a>

				<div class="flex items-center md:order-2 gap-2">
					{% if user.is_authenticated %}
					<!-- Avatar + dropdown (desktop) -->
					<div class="relative">
						<button id="userMenuBtn" type="button"
							class="inline-flex items-center gap-2 rounded-full px-2 py-1.5 bg-gray-800 text-white focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"
							aria-expanded="false" aria-controls="userMenu">
							<!-- Initial bubble -->
							<span
								class="grid h-8 w-8 place-items-center rounded-full bg-gradient-to-tr from-indigo-500 to-fuchsia-500 text-xs font-semibold">
								{% with name=user.get_full_name|default:user.username %}
								{{ name|slice:":1"|upper }}
								{% endwith %}
							</span>
							<svg class="h-4 w-4 text-gray-200 hidden sm:block" viewBox="0 0 20 20" fill="currentColor"
								aria-hidden="true">
								<path
									d="M5.23 7.21a.75.75 0 011.06.02L10 11.06l3.71-3.83a.75.75 0 111.08 1.04l-4.25 4.4a.75.75 0 01-1.08 0l-4.25-4.4a.75.75 0 01.02-1.06z" />
							</svg>
						</button>

						<div id="userMenu"
							class="hidden absolute right-0 mt-3 w-56 origin-top-right rounded-xl border border-gray-200 bg-white shadow-lg dark:bg-gray-800 dark:border-gray-700 z-50"
							role="menu" aria-labelledby="userMenuBtn" tabindex="-1">
							<div class="px-4 py-3">
								<p class="text-sm font-medium text-gray-900 dark:text-white truncate">
									{{ user.get_full_name|default:user.username }}
								</p>
								{% if user.email %}
								<p class="text-xs text-gray-500 dark:text-gray-400 truncate">{{ user.email }}</p>
								{% endif %}
							</div>

							<div class="py-1 text-sm" role="none">
								{% url 'orders' as orders_url %}
								{% if orders_url %}
								<a href="{{ orders_url }}"
									class="block px-4 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700"
									role="menuitem">My Orders</a>
								{% endif %}

								{% url 'account' as account_url %}
								{% if account_url %}
								<a href="{{ account_url }}"
									class="block px-4 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700"
									role="menuitem">Account</a>
								{% endif %}
							</div>

							<div class="py-1 border-t border-gray-200 dark:border-gray-700" role="none">
								{% url 'logout' as logout_url %}
								<form method="post" action="{{ logout_url|default:'#' }}">
									{% csrf_token %}
									<button type="submit"
										class="w-full text-left px-4 py-2 text-rose-600 hover:bg-rose-50 dark:text-rose-300 dark:hover:bg-rose-500/10"
										role="menuitem">
										Sign out
									</button>
								</form>
							</div>
						</div>
					</div>
					{% else %}
					<!-- When guest -->
					{% url 'login' as login_url %}
					<a href="{{ login_url|default:'#' }}"
						class="px-3 py-2 text-sm rounded-md text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800">
						Sign in
					</a>

					{% url 'register' as register_url %}
					<a href="{{ register_url|default:'#' }}"
						class="px-3 py-2 text-sm rounded-md bg-blue-600 text-white hover:bg-blue-700">
						Create account
					</a>
					{% endif %}

					<!-- Mobile menu toggle (kept as-is) -->
					<button id="nav-toggle" type="button"
						class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
						aria-controls="navbar-user" aria-expanded="false">
						<span class="sr-only">Open main menu</span>
						<svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
							viewBox="0 0 17 14">
							<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
								d="M1 1h15M1 7h15M1 13h15" />
						</svg>
					</button>
				</div>

				<!-- Tiny JS to toggle the dropdown (put once, e.g. end of base.html) -->
				<script>
					document.addEventListener("DOMContentLoaded", () => {
						const btn = document.getElementById("userMenuBtn");
						const menu = document.getElementById("userMenu");
						if (!btn || !menu) return;

						const close = () => menu.classList.add("hidden");
						const toggle = () => menu.classList.toggle("hidden");

						btn.addEventListener("click", (e) => {
							e.stopPropagation();
							toggle();
							btn.setAttribute("aria-expanded", String(!menu.classList.contains("hidden")));
						});

						document.addEventListener("click", (e) => {
							if (!menu.classList.contains("hidden") && !menu.contains(e.target) && !btn.contains(e.target)) {
								close();
								btn.setAttribute("aria-expanded", "false");
							}
						});

						document.addEventListener("keydown", (e) => {
							if (e.key === "Escape") { close(); btn.setAttribute("aria-expanded", "false"); }
						});
					});
				</script>

				<!-- Links + Search -->
				<div id="navbar-user" class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1">
					<ul class="flex flex-col md:flex-row md:space-x-8 rtl:space-x-reverse font-medium p-4 md:p-0 mt-4 md:mt-0
           border border-gray-100 md:border-0 rounded-lg bg-gray-50 md:bg-transparent
           dark:bg-gray-800 md:dark:bg-transparent dark:border-gray-700">

						{% with urln=request.resolver_match.url_name %}
						<li>
							<a href="/" class="block py-2 px-3 rounded-sm md:p-0 transition-colors duration-200
						{% if urln == 'contact' or urln == 'contract' %}
							text-white bg-blue-700 md:bg-transparent md:text-blue-700 md:dark:text-blue-500 font-semibold
						{% else %}
							text-white hover:text-indigo-400
						{% endif %}">
								Home
							</a>
						</li>
						{% endwith %}


						<!-- ✅ Dropdown starts here -->
						<li class="relative group">
							<button type="button"
								class="flex items-center py-2 px-3 text-gray-900 hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500">
								Services
								<svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" stroke-width="2"
									viewBox="0 0 10 6">
									<path stroke-linecap="round" stroke-linejoin="round" d="M1 1l4 4 4-4" />
								</svg>
							</button>
							<!-- Dropdown menu -->
							<ul class="absolute hidden group-hover:block bg-white  shadow-md rounded-md mt-2 w-40 z-20">
								<li><a href="{% url 'products_by_category' 'gmail-service' %}"
										class="block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700">Gmail
										Service</a></li>
								<li><a href="{% url 'products_by_category' 'google-voice-service' %}"
										class="block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700">Google
										Voice Service</a></li>
								<li><a href="{% url 'products_by_category' 'youtube-service' %}"
										class="block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700">YouTube
										Service</a></li>
								<li><a href="{% url 'products_by_category' 'instagram-service' %}"
										class="block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700">Instagram
										Service</a></li>

								<li><a href="{% url 'products_by_category' 'facebook-service' %}"
										class="block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700">Facebook
										Service</a></li>
								<li><a href="{% url 'products_by_category' 'proxy-service' %}"
										class="block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700">Proxy
										Service</a></li>
								<!-- <li><a href="#"
									class="block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700">s6</a></li>
							<li><a href="#"
									class="block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700">s7</a></li> -->
							</ul>
						</li>
						<!-- ✅ Dropdown ends here -->


						{% with urln=request.resolver_match.url_name %}
						<li>
							<a href="{% url 'about' %}" class="block py-2 px-3 md:p-0 hover:text-indigo-600
							{% if urln == 'about' %}
							text-indigo-600 font-semibold
							{% else %}
							text-gray-900 dark:text-white md:dark:hover:text-blue-500
							{% endif %}">
								About
							</a>
						</li>
						{% endwith %}



						{% with urln=request.resolver_match.url_name %}
						<li>
							<a href="{% url 'blog_list' %}" class="block py-2 px-3 md:p-0 hover:text-indigo-600
            {% if urln == 'blog_list' or urln == 'blog_detail' %}
              text-indigo-600 font-semibold
            {% else %}
              text-white
            {% endif %}">
								Blog
							</a>
						</li>
						{% endwith %}



						{% with urln=request.resolver_match.url_name %}
						<li>
							<a href="{% url 'contact' %}" class="
								px-3 py-2 
								transition-colors duration-200 
								hover:text-indigo-400
								{% if urln == 'contact' or urln == 'contract' %}
									text-indigo-600 font-semibold
								{% else %}
									text-white
								{% endif %}
							">
								Contact
							</a>
						</li>
						{% endwith %}




						<!-- Search -->
						<li class="md:ml-2">
							<form method="get" action="/products" class="flex items-center max-w-sm">
								<label for="nav-search" class="sr-only">Search products</label>
								<div class="relative w-full">
									<div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
										<!-- magnifier -->
										<svg class="w-4 h-4 text-gray-500 dark:text-gray-400" viewBox="0 0 20 20"
											fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
											<circle cx="9" cy="9" r="7" stroke="currentColor" stroke-width="2"></circle>
											<path d="m19 19-4-4" stroke="currentColor" stroke-width="2"
												stroke-linecap="round" />
										</svg>
									</div>
									<input type="search" id="nav-search" name="q" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg
                    focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5
                    dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"
										placeholder="Search products…" />
								</div>
								<button type="submit" class="p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700
                   hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300
                   dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" aria-label="Search">
									<svg class="w-4 h-4" viewBox="0 0 20 20" fill="none" aria-hidden="true"
										xmlns="http://www.w3.org/2000/svg">
										<circle cx="9" cy="9" r="7" stroke="currentColor" stroke-width="2"></circle>
										<path d="m19 19-4-4" stroke="currentColor" stroke-width="2"
											stroke-linecap="round" />
									</svg>
								</button>
							</form>
						</li>

						<!-- Cart -->
						<li class="md:ml-2">
							<a href="/cart" class="relative inline-flex items-center gap-2 rounded-md px-3 py-2 hover:bg-gray-100
            dark:hover:bg-gray-800 transition-colors" aria-label="Cart">
								<!-- cart icon -->
								<svg class="h-6 w-6 text-gray-700 dark:text-gray-200" viewBox="0 0 24 24" fill="none"
									stroke="currentColor" stroke-width="2" aria-hidden="true">
									<circle cx="9" cy="21" r="1"></circle>
									<circle cx="20" cy="21" r="1"></circle>
									<path d="M1 1h4l2.68 12.39a2 2 0 0 0 2 1.61h7.72a2 2 0 0 0 2-1.61L21 6H6"></path>
								</svg>
								<span class="hidden md:inline text-sm text-white">Cart</span>
								<!-- count badge -->
								<span id="cartCount" class="absolute -top-1 -right-1 rounded-full bg-blue-600 text-white text-[11px] leading-4 px-1.5
             ring-2 ring-white dark:ring-gray-900">
									{{ cart_count|default:0 }}
								</span>


							</a>
						</li>

						{% if request.user.is_staff %}
						<li><a href="{% url 'admin_orders' %}"
								class="block py-2 px-3 hover:text-indigo-600 text-white">Admin Orders</a></li>

						{% else %}
						{% if request.user.is_authenticated %}
						<li><a href="{% url 'my_orders' %}" class="block py-2 px-3 hover:text-indigo-600 text-white">My
								Orders</a></li>
						{% endif %}
						{% endif %}




						<!-- … your Search form stays here … -->
					</ul>

				</div>
			</div>
		</nav>
	</div>



	{% block content %}



	{% endblock %}

	<!-- FOOTER (fixed) -->
	<footer
		class="fixed bottom-0 left-0 w-full bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 p-4">
		<div class="max-w-screen-xl mx-auto flex flex-col md:flex-row items-center justify-between">
			<p class="text-gray-900 dark:text-white text-sm mb-2 md:mb-0">&copy; 2025 GVoiceus. All rights reserved.</p>
			<div class="flex space-x-4">

				<!-- WhatsApp -->
				<a href="https://wa.me/your-number" target="_blank" rel="noopener"
					class="text-gray-900 dark:text-white hover:text-green-500" aria-label="WhatsApp">
					<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
						<path
							d="M20.52 3.48A11.91 11.91 0 0012 0C5.37 0 0 5.37 0 12a11.93 11.93 0 001.77 6.14L0 24l5.92-1.56A11.93 11.93 0 0012 24c6.63 0 12-5.37 12-12 0-3.19-1.24-6.19-3.48-8.52zM12 21c-2.26 0-4.34-.74-6.01-1.99l-.43-.28-3.52.93.94-3.43-.28-.44A9.936 9.936 0 012 12c0-5.52 4.48-10 10-10 5.52 0 10 4.48 10 10s-4.48 10-10 10zm5.49-7.11c-.24-.12-1.41-.7-1.63-.78-.22-.08-.38-.12-.54.12-.16.24-.62.78-.76.94-.14.16-.28.18-.52.06-.24-.12-1.01-.37-1.92-1.18-.71-.63-1.19-1.41-1.33-1.65-.14-.24-.01-.37.11-.49.11-.11.24-.28.36-.42.12-.14.16-.24.24-.4.08-.16.04-.3-.02-.42-.06-.12-.54-1.3-.74-1.78-.2-.48-.41-.42-.56-.42-.14 0-.3-.02-.46-.02-.16 0-.42.06-.64.3-.22.24-.84.82-.84 2s.86 2.32.98 2.48c.12.16 1.71 2.61 4.15 3.66.58.25 1.03.4 1.38.51.58.18 1.11.15 1.53.09.47-.07 1.41-.58 1.61-1.14.2-.56.2-1.03.14-1.14-.06-.12-.22-.18-.46-.3z" />
					</svg>
				</a>

				<!-- Telegram -->
				<a href="https://t.me/your-username" target="_blank" rel="noopener"
					class="text-gray-900 dark:text-white hover:text-sky-400" aria-label="Telegram">
					<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
						<path
							d="M9.04 14.61 8.8 18.9a.75.75 0 0 0 1.2.64l2.4-1.75a1.5 1.5 0 0 1 .87-.28l3.37.23a1 1 0 0 0 1.03-.76l1.96-8.3a.75.75 0 0 0-1.03-.86L4.1 10.1a.6.6 0 0 0 .04 1.15l4.9 1.6a1 1 0 0 1 .64.66Z" />
					</svg>
				</a>

				<!-- WeChat -->
				<a href="weixin://dl/chat?yourid" class="text-gray-900 dark:text-white hover:text-emerald-500"
					aria-label="WeChat">
					<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 1024 1024" aria-hidden="true">
						<path
							d="M512 64c-247.4 0-448 174.7-448 390.2 0 117.9 65.3 223 168.9 294.5L192 896l197.6-102.3c38.4 7.5 78.4 11.5 121.4 11.5 247.4 0 448-174.7 448-390.2S759.4 64 512 64zm-256 312a64 64 0 1 1 128 0 64 64 0 0 1-128 0zm384 0a64 64 0 1 1 128 0 64 64 0 0 1-128 0z" />
					</svg>
				</a>

				<!-- Gmail -->
				<a href="mailto:example@gmail.com" class="text-gray-900 dark:text-white hover:text-red-500"
					aria-label="Gmail">
					<svg class="w-6 h-6" viewBox="0 0 512 512" fill="currentColor" aria-hidden="true">
						<path
							d="M502.3 190.8 327.4 338.3c-17.5 14.7-43.4 14.7-60.9 0L9.7 190.8c-6.3-5.3-8.1-14.1-4.4-21.3C7.3 163.1 14.3 160 21.9 160h468.2c7.6 0 14.6 3.1 16.6 9.5 3.7 7.2 1.9 16-4.4 21.3zM0 208v192c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V208L349.7 344.6c-34.7 29.2-85.7 29.2-120.4 0L0 208z" />
					</svg>
				</a>
			</div>
		</div>
	</footer>

	<!-- Minimal JS: dropdown + mobile -->
	<script>
		// Mobile nav
		const navToggle = document.getElementById('nav-toggle');
		const navPanel = document.getElementById('navbar-user');
		if (navToggle && navPanel) {
			navToggle.addEventListener('click', () => {
				const hidden = navPanel.classList.toggle('hidden');
				navToggle.setAttribute('aria-expanded', String(!hidden));
			});
		}

		// Profile dropdown (no Flowbite dependency)
		const userBtn = document.getElementById('user-menu-button');
		const dd = document.getElementById('user-dropdown');
		if (userBtn && dd) {
			userBtn.addEventListener('click', (e) => {
				e.stopPropagation();
				dd.classList.toggle('hidden');
				userBtn.setAttribute('aria-expanded', String(!dd.classList.contains('hidden')));
			});

			document.addEventListener('click', (e) => {
				if (!dd.classList.contains('hidden') && !dd.contains(e.target) && !userBtn.contains(e.target)) {
					dd.classList.add('hidden');
					userBtn.setAttribute('aria-expanded', 'false');
				}
			});
			document.addEventListener('keydown', (e) => {
				if (e.key === 'Escape') {
					dd.classList.add('hidden');
					userBtn.setAttribute('aria-expanded', 'false');
				}
			});
		}
	</script>

	<script src="https://js.hcaptcha.com/1/api.js" async defer></script>

</body>

</html>